import{bl as E,bm as J,ax as $,bk as K,aS as b,aK as d,o as x,c as g,b as e,w as l,aJ as i,V as v,at as C,bc as M,a as o,ai as r,aA as I,bb as W,av as U,au as q,aF as G,ao as H,d as p,be as Q,ak as j,dW as X}from"./index-99c8948f.js";import{V as n,a as S}from"./VRow-b74bf81b.js";import{V as Y}from"./VDialog-43109040.js";import{c as Z,V as ee,d as te,e as le}from"./VCard-05d5c4ba.js";import{V as ae}from"./VForm-fe1824f5.js";import{V as oe}from"./VSpacer-bf45c344.js";import{V as T}from"./VTooltip-806c5753.js";const se=E({id:"Contact",state:()=>({contacts:[]}),getters:{},actions:{async fetchContacts(){try{const m=await J.get("/api/contacts");this.contacts=m.data.contacts}catch(m){alert(m),console.log(m)}}}}),ne=p("mdi-account-multiple-plus"),de=p("Add Contact "),ue={class:"title text-white"},ie=p("Cancel"),re=p("Save"),ce=o("thead",null,[o("tr",null,[o("th",{class:"text-subtitle-1 font-weight-semibold"},"Id"),o("th",{class:"text-subtitle-1 font-weight-semibold"},"UserInfo"),o("th",{class:"text-subtitle-1 font-weight-semibold"},"Phone"),o("th",{class:"text-subtitle-1 font-weight-semibold"},"Joining Date"),o("th",{class:"text-subtitle-1 font-weight-semibold"},"Role"),o("th",{class:"text-subtitle-1 font-weight-semibold"},"Actions")])],-1),me={class:"text-subtitle-1"},fe={class:"d-flex align-center py-4"},ve={class:"ml-5"},pe={class:"text-h6 font-weight-semibold"},Ve={class:"text-subtitle-1 d-block mt-1 textSecondary"},_e={class:"text-subtitle-1"},he={class:"text-subtitle-1"},be={class:"d-flex align-center"},Ue=$({setup(m){const w=se();K(()=>{w.fetchContacts()}),b(()=>w.contacts);const y=d(!0),V=d(!1),_=d(""),A=d(["primary","secondary","error","success","warning"]),c=d(X),f=d(-1),s=d({id:"",avatar:"1.jpg",userinfo:"",usermail:"",phone:"",jdate:"",role:"",rolestatus:""}),B=d({id:"",avatar:"1.jpg",userinfo:"",usermail:"",phone:"",jdate:"",role:"",rolestatus:""}),D=b(()=>c.value.filter(u=>u.userinfo.toLowerCase().includes(_.value.toLowerCase())));function O(u){f.value=c.value.indexOf(u),s.value=Object.assign({},u),V.value=!0}function P(u){const a=c.value.indexOf(u);confirm("Are you sure you want to delete this item?")&&c.value.splice(a,1)}function k(){V.value=!1,setTimeout(()=>{s.value=Object.assign({},B.value),f.value=-1},300)}function z(){f.value>-1?Object.assign(c.value[f.value],s.value):c.value.push(s.value),k()}const F=b(()=>f.value===-1?"New Contact":"Edit Contact");return(u,a)=>{const L=j("PencilIcon"),N=j("TrashIcon");return x(),g(U,null,[e(S,null,{default:l(()=>[e(n,{cols:"12",lg:"4",md:"6"},{default:l(()=>[e(i,{density:"compact",modelValue:_.value,"onUpdate:modelValue":a[0]||(a[0]=t=>_.value=t),label:"Search Contacts","hide-details":"",variant:"outlined"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12",lg:"8",md:"6",class:"text-right"},{default:l(()=>[e(Y,{modelValue:V.value,"onUpdate:modelValue":a[9]||(a[9]=t=>V.value=t),"max-width":"500"},{activator:l(({props:t})=>[e(v,C({color:"primary"},t,{flat:"",class:"ml-auto"}),{default:l(()=>[e(M,{class:"mr-2"},{default:l(()=>[ne]),_:1}),de]),_:2},1040)]),default:l(()=>[e(Z,null,{default:l(()=>[e(ee,{class:"pa-4 bg-secondary"},{default:l(()=>[o("span",ue,r(I(F)),1)]),_:1}),e(te,null,{default:l(()=>[e(ae,{ref:"form",modelValue:y.value,"onUpdate:modelValue":a[8]||(a[8]=t=>y.value=t),"lazy-validation":""},{default:l(()=>[e(S,null,{default:l(()=>[e(n,{cols:"12",sm:"6"},{default:l(()=>[e(i,{variant:"outlined","hide-details":"",modelValue:s.value.id,"onUpdate:modelValue":a[1]||(a[1]=t=>s.value.id=t),label:"Id"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12",sm:"6"},{default:l(()=>[e(i,{variant:"outlined","hide-details":"",modelValue:s.value.userinfo,"onUpdate:modelValue":a[2]||(a[2]=t=>s.value.userinfo=t),label:"User info"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12",sm:"6"},{default:l(()=>[e(i,{variant:"outlined","hide-details":"",modelValue:s.value.usermail,"onUpdate:modelValue":a[3]||(a[3]=t=>s.value.usermail=t),label:"User email",type:"email"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12",sm:"6"},{default:l(()=>[e(i,{variant:"outlined","hide-details":"",modelValue:s.value.phone,"onUpdate:modelValue":a[4]||(a[4]=t=>s.value.phone=t),label:"Phone",type:"phone"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12",sm:"6"},{default:l(()=>[e(i,{variant:"outlined","hide-details":"",modelValue:s.value.jdate,"onUpdate:modelValue":a[5]||(a[5]=t=>s.value.jdate=t),label:"Joining Date"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12",sm:"6"},{default:l(()=>[e(i,{variant:"outlined","hide-details":"",modelValue:s.value.role,"onUpdate:modelValue":a[6]||(a[6]=t=>s.value.role=t),label:"Role"},null,8,["modelValue"])]),_:1}),e(n,{cols:"12",sm:"12"},{default:l(()=>[e(W,{variant:"outlined","hide-details":"",items:A.value,modelValue:s.value.rolestatus,"onUpdate:modelValue":a[7]||(a[7]=t=>s.value.rolestatus=t),label:"Role Background"},null,8,["items","modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(le,{class:"pa-4"},{default:l(()=>[e(oe),e(v,{color:"error",onClick:k},{default:l(()=>[ie]),_:1}),e(v,{color:"secondary",disabled:s.value.userinfo==""||s.value.usermail=="",variant:"flat",onClick:z},{default:l(()=>[re]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(Q,{class:"mt-5"},{default:l(()=>[ce,o("tbody",null,[(x(!0),g(U,null,q(I(D),t=>(x(),g("tr",{key:t.id},[o("td",me,r(t.id),1),o("td",null,[o("div",fe,[o("div",null,[e(G,{src:t.avatar,width:"45px",class:"rounded-circle img-fluid"},null,8,["src"])]),o("div",ve,[o("h4",pe,r(t.userinfo),1),o("span",Ve,r(t.usermail),1)])])]),o("td",_e,r(t.phone),1),o("td",he,r(t.jdate),1),o("td",null,[e(H,{color:t.rolestatus,size:"small",label:""},{default:l(()=>[p(r(t.role),1)]),_:2},1032,["color"])]),o("td",null,[o("div",be,[e(T,{text:"Edit"},{activator:l(({props:h})=>[e(v,C({icon:"",flat:"",onClick:R=>O(t)},h),{default:l(()=>[e(L,{"stroke-width":"1.5",size:"20",class:"text-primary"})]),_:2},1040,["onClick"])]),_:2},1024),e(T,{text:"Delete"},{activator:l(({props:h})=>[e(v,C({icon:"",flat:"",onClick:R=>P(t)},h),{default:l(()=>[e(N,{"stroke-width":"1.5",size:"20",class:"text-error"})]),_:2},1040,["onClick"])]),_:2},1024)])])]))),128))])]),_:1})],64)}}});export{Ue as _};
